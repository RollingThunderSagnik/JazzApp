{"ast":null,"code":"import _assertThisInitialized from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/sagnikg/react/JazzApp/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport { ReactComponent } from \"@svgr/webpack?-svgo,+ref!./logo.svg\";\nimport './App.css';\nimport './welcome_screen.css';\nimport ReactDOM from 'react-dom';\nimport './joy.js';\nimport socketIOClient from \"socket.io-client\";\nvar ENDPOINT = \"http://127.0.0.1:4001\";\nvar socket = socketIOClient(ENDPOINT);\nsocket.on('connect', function () {\n  var userUnikID = \"user_\" + socket.id;\n  console.log(userUnikID); // true\n});\n\nvar JoyStick = function JoyStick(container, parameters) {\n  parameters = parameters || {};\n  var title = typeof parameters.title === \"undefined\" ? \"joystick\" : parameters.title,\n      width = typeof parameters.width === \"undefined\" ? 0 : parameters.width,\n      height = typeof parameters.height === \"undefined\" ? 0 : parameters.height,\n      internalFillColor = typeof parameters.internalFillColor === \"undefined\" ? \"#00AA00\" : parameters.internalFillColor,\n      internalLineWidth = typeof parameters.internalLineWidth === \"undefined\" ? 2 : parameters.internalLineWidth,\n      internalStrokeColor = typeof parameters.internalStrokeColor === \"undefined\" ? \"#003300\" : parameters.internalStrokeColor,\n      externalLineWidth = typeof parameters.externalLineWidth === \"undefined\" ? 2 : parameters.externalLineWidth,\n      externalStrokeColor = typeof parameters.externalStrokeColor === \"undefined\" ? \"#008000\" : parameters.externalStrokeColor,\n      autoReturnToCenter = typeof parameters.autoReturnToCenter === \"undefined\" ? true : parameters.autoReturnToCenter; // Create Canvas element and add it in the Container object\n\n  var objContainer = document.getElementById(container);\n  var canvas = document.createElement(\"canvas\");\n  canvas.id = title;\n\n  if (width === 0) {\n    width = objContainer.clientWidth;\n  }\n\n  if (height === 0) {\n    height = objContainer.clientHeight;\n  }\n\n  canvas.width = width;\n  canvas.height = height;\n  objContainer.appendChild(canvas);\n  var context = canvas.getContext(\"2d\");\n  var pressed = 0; // Bool - 1=Yes - 0=No\n\n  var circumference = 2 * Math.PI;\n  var internalRadius = (canvas.width - (canvas.width / 2 + 10)) / 2;\n  var maxMoveStick = internalRadius + 5;\n  var externalRadius = internalRadius + 30;\n  var centerX = canvas.width / 2;\n  var centerY = canvas.height / 2;\n  var directionHorizontalLimitPos = canvas.width / 10;\n  var directionHorizontalLimitNeg = directionHorizontalLimitPos * -1;\n  var directionVerticalLimitPos = canvas.height / 10;\n  var directionVerticalLimitNeg = directionVerticalLimitPos * -1; // Used to save current position of stick\n\n  var movedX = centerX;\n  var movedY = centerY; // Check if the device support the touch or not\n\n  if (\"ontouchstart\" in document.documentElement) {\n    canvas.addEventListener(\"touchstart\", onTouchStart, false);\n    canvas.addEventListener(\"touchmove\", onTouchMove, false);\n    canvas.addEventListener(\"touchend\", onTouchEnd, false);\n  } else {\n    canvas.addEventListener(\"mousedown\", onMouseDown, false);\n    canvas.addEventListener(\"mousemove\", onMouseMove, false);\n    canvas.addEventListener(\"mouseup\", onMouseUp, false);\n  } // Draw the object\n\n\n  drawExternal();\n  drawInternal();\n  /******************************************************\n   * Private methods\n   *****************************************************/\n\n  /**\n   * @desc Draw the external circle used as reference position\n   */\n\n  function drawExternal() {\n    context.beginPath();\n    context.arc(centerX, centerY, externalRadius, 0, circumference, false);\n    context.lineWidth = externalLineWidth;\n    context.strokeStyle = externalStrokeColor;\n    context.stroke();\n  }\n  /**\n   * @desc Draw the internal stick in the current position the user have moved it\n   */\n\n\n  function drawInternal() {\n    context.beginPath();\n\n    if (movedX < internalRadius) {\n      movedX = maxMoveStick;\n    }\n\n    if (movedX + internalRadius > canvas.width) {\n      movedX = canvas.width - maxMoveStick;\n    }\n\n    if (movedY < internalRadius) {\n      movedY = maxMoveStick;\n    }\n\n    if (movedY + internalRadius > canvas.height) {\n      movedY = canvas.height - maxMoveStick;\n    }\n\n    context.arc(movedX, movedY, internalRadius, 0, circumference, false); // create radial gradient\n\n    var grd = context.createRadialGradient(centerX, centerY, 5, centerX, centerY, 200); // Light color\n\n    grd.addColorStop(0, internalFillColor); // Dark color\n\n    grd.addColorStop(1, internalStrokeColor);\n    context.fillStyle = grd;\n    context.fill();\n    context.lineWidth = internalLineWidth;\n    context.strokeStyle = internalStrokeColor;\n    context.stroke();\n  }\n  /**\n   * @desc Events for manage touch\n   */\n\n\n  function onTouchStart(event) {\n    pressed = 1;\n  }\n\n  function onTouchMove(event) {\n    // Prevent the browser from doing its default thing (scroll, zoom)\n    event.preventDefault();\n\n    if (pressed === 1 && event.targetTouches[0].target === canvas) {\n      movedX = event.targetTouches[0].pageX;\n      movedY = event.targetTouches[0].pageY; // Manage offset\n\n      if (canvas.offsetParent.tagName.toUpperCase() === \"BODY\") {\n        movedX -= canvas.offsetLeft;\n        movedY -= canvas.offsetTop;\n      } else {\n        movedX -= canvas.offsetParent.offsetLeft;\n        movedY -= canvas.offsetParent.offsetTop;\n      } // Delete canvas\n\n\n      context.clearRect(0, 0, canvas.width, canvas.height); // Redraw object\n\n      drawExternal();\n      drawInternal();\n    }\n  }\n\n  function onTouchEnd(event) {\n    pressed = 0; // If required reset position store variable\n\n    if (autoReturnToCenter) {\n      movedX = centerX;\n      movedY = centerY;\n    } // Delete canvas\n\n\n    context.clearRect(0, 0, canvas.width, canvas.height); // Redraw object\n\n    drawExternal();\n    drawInternal(); //canvas.unbind('touchmove');\n  }\n  /**\n   * @desc Events for manage mouse\n   */\n\n\n  function onMouseDown(event) {\n    pressed = 1;\n  }\n\n  function onMouseMove(event) {\n    if (pressed === 1) {\n      movedX = event.pageX;\n      movedY = event.pageY; // Manage offset\n\n      if (canvas.offsetParent.tagName.toUpperCase() === \"BODY\") {\n        movedX -= canvas.offsetLeft;\n        movedY -= canvas.offsetTop;\n      } else {\n        movedX -= canvas.offsetParent.offsetLeft;\n        movedY -= canvas.offsetParent.offsetTop;\n      } // Delete canvas\n\n\n      context.clearRect(0, 0, canvas.width, canvas.height); // Redraw object\n\n      drawExternal();\n      drawInternal();\n    }\n  }\n\n  function onMouseUp(event) {\n    pressed = 0; // If required reset position store variable\n\n    if (autoReturnToCenter) {\n      movedX = centerX;\n      movedY = centerY;\n    } // Delete canvas\n\n\n    context.clearRect(0, 0, canvas.width, canvas.height); // Redraw object\n\n    drawExternal();\n    drawInternal(); //canvas.unbind('mousemove');\n  }\n  /******************************************************\n   * Public methods\n   *****************************************************/\n\n  /**\n   * @desc The width of canvas\n   * @return Number of pixel width \n   */\n\n\n  this.GetWidth = function () {\n    return canvas.width;\n  };\n  /**\n   * @desc The height of canvas\n   * @return Number of pixel height\n   */\n\n\n  this.GetHeight = function () {\n    return canvas.height;\n  };\n  /**\n   * @desc The X position of the cursor relative to the canvas that contains it and to its dimensions\n   * @return Number that indicate relative position\n   */\n\n\n  this.GetPosX = function () {\n    return movedX;\n  };\n  /**\n   * @desc The Y position of the cursor relative to the canvas that contains it and to its dimensions\n   * @return Number that indicate relative position\n   */\n\n\n  this.GetPosY = function () {\n    return movedY;\n  };\n  /**\n   * @desc Normalizzed value of X move of stick\n   * @return Integer from -100 to +100\n   */\n\n\n  this.GetX = function () {\n    return (100 * ((movedX - centerX) / maxMoveStick)).toFixed();\n  };\n  /**\n   * @desc Normalizzed value of Y move of stick\n   * @return Integer from -100 to +100\n   */\n\n\n  this.GetY = function () {\n    return (100 * ((movedY - centerY) / maxMoveStick) * -1).toFixed();\n  };\n  /**\n   * @desc Get the direction of the cursor as a string that indicates the cardinal points where this is oriented\n   * @return String of cardinal point N, NE, E, SE, S, SW, W, NW and C when it is placed in the center\n   */\n\n\n  this.GetDir = function () {\n    var result = \"\";\n    var orizontal = movedX - centerX;\n    var vertical = movedY - centerY;\n\n    if (vertical >= directionVerticalLimitNeg && vertical <= directionVerticalLimitPos) {\n      result = \"C\";\n    }\n\n    if (vertical < directionVerticalLimitNeg) {\n      result = \"N\";\n    }\n\n    if (vertical > directionVerticalLimitPos) {\n      result = \"S\";\n    }\n\n    if (orizontal < directionHorizontalLimitNeg) {\n      if (result === \"C\") {\n        result = \"W\";\n      } else {\n        result += \"W\";\n      }\n    }\n\n    if (orizontal > directionHorizontalLimitPos) {\n      if (result === \"C\") {\n        result = \"E\";\n      } else {\n        result += \"E\";\n      }\n    }\n\n    return result;\n  };\n};\n/*\nif (x==18 && y>=7 && y<==25)\nreturn false;\nif (y==25 && x<=17)\nreturn false;\nif (y==26 && (x==15 || x==16))\nreturn false;\nif (y==27 && (x==15 || x==16))\nreturn false;\nif ((x==1 || x==2) && y>=31 && y<=33)\nreturn false;\nif ((x==14 || x==15) && y>=31 && y<=33)\nreturn false;\nif ((y==38 || y== 43) && x>=2 && x<==13)\nreturn false;\nif ((x==2 || x==39) && y>=39 && y<==42)\nreturn false;\nif (y==46 && x<=14)\nreturn false;\nif (y==47 && x<=15)\nreturn false;\nif ((x==20 || x==25)&& y>=40 && y<=44)\nreturn false;\nif ((y==45 || y==40) && x>=20 && x<=24)\nreturn false;\nif ((y==59 || y==64) && x>=27 && x<=39)\nreturn false;\nif (y==7 && ((x>=18 && x<=24) || (x>47 && x<=96)))\nreturn false;\nif ((x==24 || x==46) && (y==8 || y==9))\nreturn false;\nif (y==9 && x>=25 && x<=26)\nreturn false;\nif (y==96 && x>=7 && x<=14)\nreturn false;\nif (y==49 && x>=39 && x<=59)   \nreturn false;\nif (x==59 && y>=39 && y<=48)\nreturn false;\nif ((x==39 || x==40) && y>=48 && y<=37)\nreturn false;\nif ((y==37 || y==34) && x>=41 && x<=49)\nreturn false;\nif (x>=50 && x<=56 && y>=34 && y<=37)\nreturn false;\nif ( (x==39 || x==40) && y>=15 && y<=34)\nreturn false;\nif (y==15 && x>=41 && x<=69)\nreturn false;\nif (x==67||x==68) && y>=22 && y<=28)\nreturn false;\nif (((x==60 || x==61) && y>=33 && y<=36) || (x==59 && (y==34 || y==35)))\nreturn false;\nif (y==49 && x>=64 && x<=93)\nreturn false;\nif (x>=64 && x<=69 && y>=39 && y<=48)\nreturn false;\nif ( x>=69 && x<=93 && y>=33 && y<=49)\nreturn false;\nif ( x>=69 && x<=93 && y>=15 && y<=30)\nreturn false;\nif (y==28 && x>=94 && x<=96)\nreturn false;\nif (y==27 && x>=97 && x<=110)\nreturn false;\nif (y==26 && x>=110 && x<=111)\nreturn false;\nif (y==25 && x>=112 && x<=119)\nreturn false;\nif (x==120 && y>=25 && y<=27)\nreturn false;\nif (y==27 && x>=121 && x<=133)\n*/\n\n\nfunction App() {\n  var tile = 40;\n\n  var Grid = /*#__PURE__*/function (_React$Component) {\n    _inherits(Grid, _React$Component);\n\n    function Grid(props) {\n      _classCallCheck(this, Grid);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(Grid).call(this, props));\n    }\n\n    _createClass(Grid, [{\n      key: \"render\",\n      value: function render() {\n        var haha = [];\n\n        for (var i = 0; i <= 135; i++) {\n          for (var j = 0; j <= 65; j++) {\n            var gstyle = {\n              left: i * 40 + \"px\",\n              top: j * 40 + \"px\"\n            };\n            haha.push( /*#__PURE__*/React.createElement(\"div\", {\n              class: \"grid\",\n              style: gstyle,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }\n            }, i + \",\" + j));\n          }\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 14\n          }\n        }, haha);\n      }\n    }]);\n\n    return Grid;\n  }(React.Component);\n\n  var Messages = /*#__PURE__*/function (_React$Component2) {\n    _inherits(Messages, _React$Component2);\n\n    function Messages(props) {\n      var _this;\n\n      _classCallCheck(this, Messages);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Messages).call(this, props));\n      _this.state = {\n        messages: _this.props.messages\n      };\n      return _this;\n    }\n\n    _createClass(Messages, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        document.addEventListener('gandu', function (event) {\n          _this2.setState({\n            messages: event.detail.barta\n          });\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var msgz = this.state.messages.map(function (msg) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 52\n            }\n          }, msg);\n        });\n        return /*#__PURE__*/React.createElement(\"ul\", {\n          id: \"messages\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 11\n          }\n        }, msgz);\n      }\n    }]);\n\n    return Messages;\n  }(React.Component);\n\n  var Chat = /*#__PURE__*/function (_React$Component3) {\n    _inherits(Chat, _React$Component3);\n\n    function Chat(props) {\n      var _this4;\n\n      _classCallCheck(this, Chat);\n\n      _this4 = _possibleConstructorReturn(this, _getPrototypeOf(Chat).call(this, props));\n      _this4.handleChange = _this4.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this4)));\n      _this4.keyPress = _this4.keyPress.bind(_assertThisInitialized(_assertThisInitialized(_this4)));\n      _this4.state = {\n        name: _this4.props.name,\n        messages: [],\n        currentmsg: ''\n      }; //console.log(\"name is: \"+this.props.name);\n\n      return _this4;\n    }\n\n    _createClass(Chat, [{\n      key: \"keyPress\",\n      value: function keyPress(e) {\n        if (e.keyCode == 13) {\n          socket.emit('sendmessage', this.state.name, this.state.currentmsg);\n          e.target.value = '';\n        }\n      }\n    }, {\n      key: \"handleChange\",\n      value: function handleChange(e) {\n        this.state.currentmsg = e.target.value;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          id: \"chat\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Messages, {\n          messages: this.state.messages,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          id: \"typehold\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          onChange: this.handleChange,\n          onKeyDown: this.keyPress,\n          placeholder: \"enter a message...\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }\n        })));\n      }\n    }]);\n\n    return Chat;\n  }(React.Component);\n\n  var Character = /*#__PURE__*/function (_React$Component4) {\n    _inherits(Character, _React$Component4);\n\n    function Character(props) {\n      var _this5;\n\n      _classCallCheck(this, Character);\n\n      _this5 = _possibleConstructorReturn(this, _getPrototypeOf(Character).call(this, props));\n      _this5.state = {\n        name: _this5.props.name,\n        x: _this5.props.x,\n        y: _this5.props.y,\n        id: _this5.props.id,\n        fLeft: _this5.props.fLeft,\n        avatar: _this5.props.avatar\n      };\n      _this5.state.charStyle = {\n        left: _this5.props.x * tile + 'px',\n        top: _this5.props.y * tile + 'px',\n        zIndex: _this5.props.y,\n        transform: 'scaleX(' + _this5.props.fLeft + ')'\n      };\n      return _this5;\n    }\n\n    _createClass(Character, [{\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n        if (this.props !== prevProps) {\n          this.setState({\n            name: this.props.name,\n            x: this.props.x,\n            y: this.props.y,\n            fLeft: this.props.fLeft,\n            avatar: this.props.avatar,\n            charStyle: {\n              left: this.props.x * tile + 'px',\n              top: this.props.y * tile + 'px',\n              zIndex: this.props.y\n            }\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var clasist = \"character\";\n        if (this.state.fLeft == -1) clasist += \" fleft\";\n\n        switch (this.state.avatar) {\n          case 0:\n            clasist += \" doomer\";\n            break;\n\n          case 1:\n            clasist += \" bhakt\";\n            break;\n\n          case 2:\n            clasist += \" moist\";\n            break;\n\n          case 3:\n            clasist += \" ladis\";\n            break;\n\n          case 4:\n            clasist += \" nerd\";\n            break;\n\n          case 5:\n            clasist += \" lib\";\n            break;\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: clasist,\n          style: this.state.charStyle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 16\n          }\n        }, this.state.name)));\n      }\n    }]);\n\n    return Character;\n  }(React.Component);\n\n  var GameBox = /*#__PURE__*/function (_React$Component5) {\n    _inherits(GameBox, _React$Component5);\n\n    function GameBox(props) {\n      var _this6;\n\n      _classCallCheck(this, GameBox);\n\n      _this6 = _possibleConstructorReturn(this, _getPrototypeOf(GameBox).call(this, props));\n      _this6.keyPress = _this6.keyPress.bind(_assertThisInitialized(_assertThisInitialized(_this6)));\n      _this6.state = {\n        players: _this6.props.players,\n        worldX: -1320,\n        worldY: -40,\n        worldStyle: {\n          top: '-40px',\n          left: '-1320px'\n        }\n      };\n      _this6.moveCam = _this6.moveCam.bind(_assertThisInitialized(_assertThisInitialized(_this6)));\n      return _this6;\n    }\n\n    _createClass(GameBox, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this7 = this;\n\n        document.addEventListener('updatePos', function (event) {\n          _this7.setState({\n            players: event.detail.positions\n          });\n        });\n        document.addEventListener('thirdeye', function (event) {\n          var eyex = event.detail.x + _this7.state.worldX;\n          var eyey = event.detail.y + _this7.state.worldY;\n          if (eyex >= 0) eyex = _this7.state.worldStyle.left;else eyex = eyex;\n          if (eyey >= 0) eyey = _this7.state.worldStyle.top;else eyey = eyey;\n\n          _this7.setState({\n            worldStyle: {\n              left: eyex,\n              top: eyey\n            }\n          });\n        });\n      }\n    }, {\n      key: \"keyPress\",\n      value: function keyPress(e) {\n        var playersChanged = this.state.players;\n        var i;\n\n        for (i = 0; i < playersChanged.length; i++) {\n          if (playersChanged[i].name == userPlayer.name) {\n            break;\n          }\n        }\n\n        var ox = playersChanged[i].x;\n        var oy = playersChanged[i].y;\n\n        if (e.keyCode == 39) {\n          if (playersChanged[i].fLeft == 1) {\n            playersChanged[i].x = playersChanged[i].x + 1;\n          }\n\n          playersChanged[i].fLeft = 1;\n        }\n\n        if (e.keyCode == 37) {\n          if (playersChanged[i].fLeft == -1) {\n            playersChanged[i].x = playersChanged[i].x - 1;\n          }\n\n          playersChanged[i].fLeft = -1;\n        }\n\n        if (e.keyCode == 38) playersChanged[i].y = playersChanged[i].y - 1;\n        if (e.keyCode == 40) playersChanged[i].y = playersChanged[i].y + 1;\n        var nx = playersChanged[i].x;\n        var ny = playersChanged[i].y;\n\n        if (!this.checkValidPosition(nx, ny)) {\n          playersChanged[i].x = ox;\n          playersChanged[i].y = oy;\n        } else {\n          this.moveCam(nx, ny);\n          socket.emit(\"changePlayerPositions\", playersChanged);\n        }\n      }\n    }, {\n      key: \"checkValidPosition\",\n      value: function checkValidPosition(x, y) {\n        if (x < 0 || y < 0 || x > 131 || y > 58) return false;\n        if (x == 18 && y >= 7 && y <= 25) return false;\n        if (y == 25 && x <= 17) return false;\n        if (y == 26 && (x == 15 || x == 16)) return false;\n        if (y == 27 && (x == 15 || x == 16)) return false;\n        if ((x == 1 || x == 2) && y >= 31 && y <= 33) return false;\n        if ((x == 14 || x == 15) && y >= 31 && y <= 33) return false;\n        if ((y == 38 || y == 43) && x >= 2 && x <= 13) return false;\n        if ((x == 2 || x == 39) && y >= 39 && y <= 42) return false;\n        if (y == 46 && x <= 14) return false;\n        if (y == 47 && x <= 15) return false;\n        if ((x == 20 || x == 25) && y >= 40 && y <= 44) return false;\n        if ((y == 45 || y == 40) && x >= 20 && x <= 24) return false;\n        if ((y == 59 || y == 64) && x >= 27 && x <= 39) return false;\n        if (y == 7 && (x >= 18 && x <= 24 || x > 47 && x <= 96)) return false;\n        if ((x == 24 || x == 46) && (y == 8 || y == 9)) return false;\n        if (y == 9 && x >= 25 && x <= 26) return false;\n        if (y == 96 && x >= 7 && x <= 14) return false;\n        if (y == 49 && x >= 39 && x <= 59) return false;\n        if (x == 59 && y >= 39 && y <= 48) return false;\n        if ((x == 39 || x == 40) && y >= 48 && y <= 37) return false;\n        if ((y == 37 || y == 34) && x >= 41 && x <= 49) return false;\n        if (x >= 50 && x <= 56 && y >= 34 && y <= 37) return false;\n        if ((x == 39 || x == 40) && y >= 15 && y <= 34) return false;\n        if (y == 15 && x >= 41 && x <= 69) return false;\n        if ((x == 67 || x == 68) && y >= 22 && y <= 28) return false;\n        if ((x == 60 || x == 61) && y >= 33 && y <= 36 || x == 59 && (y == 34 || y == 35)) return false;\n        if (y == 49 && x >= 64 && x <= 93) return false;\n        if (x >= 64 && x <= 69 && y >= 39 && y <= 48) return false;\n        if (x >= 69 && x <= 93 && y >= 33 && y <= 49) return false;\n        if (x >= 69 && x <= 93 && y >= 15 && y <= 30) return false;\n        if (y == 28 && x >= 94 && x <= 96) return false;\n        if (y == 27 && x >= 97 && x <= 110) return false;\n        if (y == 26 && x >= 110 && x <= 111) return false;\n        if (y == 25 && x >= 112 && x <= 119) return false;\n        if (x == 120 && y >= 25 && y <= 27) return false;\n        if (y == 27 && x >= 121 && x <= 133) return true;\n      }\n    }, {\n      key: \"moveCam\",\n      value: function moveCam(x, y) {\n        x = x * 40 + this.state.worldX;\n        y = y * 40 + this.state.worldY;\n        if (x + 88 > window.innerWidth - 400) this.state.worldX = this.state.worldX - 40;\n        if (y + 240 > window.innerHeight) this.state.worldY = this.state.worldY - 40;\n        if (x < 0) this.state.worldX = this.state.worldX + 40;\n        if (y < 0) this.state.worldY = this.state.worldY + 40;\n        this.setState({\n          worldStyle: {\n            top: this.state.worldY + 'px',\n            left: this.state.worldX + 'px'\n          }\n        });\n        console.log(this.state.worldX + \" \" + this.state.worldY);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this8 = this;\n\n        var karz = this.state.players.map(function (player) {\n          return /*#__PURE__*/React.createElement(Character, {\n            id: player.id,\n            avatar: player.avatar,\n            name: player.name,\n            x: player.x,\n            y: player.y,\n            fLeft: player.fLeft,\n            __self: _this8,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 54\n            }\n          });\n        });\n        return /*#__PURE__*/React.createElement(\"div\", {\n          id: \"gameBox\",\n          onKeyUp: this.keyPress,\n          tabIndex: \"0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          id: \"gameWorld\",\n          style: this.state.worldStyle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 11\n          }\n        }, karz), /*#__PURE__*/React.createElement(Joysticc, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 11\n          }\n        }));\n      }\n    }]);\n\n    return GameBox;\n  }(React.Component);\n\n  var joy;\n\n  var Joysticc = /*#__PURE__*/function (_React$Component6) {\n    _inherits(Joysticc, _React$Component6);\n\n    function Joysticc(props) {\n      var _this9;\n\n      _classCallCheck(this, Joysticc);\n\n      _this9 = _possibleConstructorReturn(this, _getPrototypeOf(Joysticc).call(this, props));\n      _this9.joymosti = _this9.joymosti.bind(_assertThisInitialized(_assertThisInitialized(_this9)));\n      _this9.state = {\n        x: 0,\n        y: 0\n      };\n      _this9.backtobessa = _this9.backtobessa.bind(_assertThisInitialized(_assertThisInitialized(_this9)));\n      return _this9;\n    }\n\n    _createClass(Joysticc, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        joy = new JoyStick('joyDiv', {\n          // The ID of canvas element\n          title: 'joystick',\n          // width/height\n          width: 200,\n          height: 200,\n          // Internal color of Stick\n          internalFillColor: '#ffffff',\n          // Border width of Stick\n          internalLineWidth: 2,\n          // Border color of Stick\n          internalStrokeColor: '#ffffff',\n          // External reference circonference width\n          externalLineWidth: 2,\n          //External reference circonference color\n          externalStrokeColor: '#ffffff',\n          // Sets the behavior of the stick\n          autoReturnToCenter: true\n        });\n      }\n    }, {\n      key: \"joymosti\",\n      value: function joymosti() {\n        var newx = joy.GetX() * 4;\n        var newy = joy.GetY() * 4; // if( newx != this.state.x || newy != this.state.y )\n        // {\n\n        this.setState({\n          x: newx,\n          y: newy\n        });\n        document.dispatchEvent(new CustomEvent(\"thirdeye\", {\n          detail: {\n            x: this.state.x * -1,\n            y: this.state.y\n          }\n        })); // }\n        // document.dispatchEvent(new CustomEvent(\"updatePos\", {\n        //   detail: { positions : newPositions }\n        // }));\n      }\n    }, {\n      key: \"backtobessa\",\n      value: function backtobessa() {\n        document.dispatchEvent(new CustomEvent(\"thirdeye\", {\n          detail: {\n            x: 0,\n            y: 0\n          }\n        }));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          id: \"joyraj\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          id: \"joyDiv\",\n          onMouseMove: this.joymosti,\n          onMouseUp: this.backtobessa,\n          onMouseLeave: this.backtobessa,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 8\n          }\n        }));\n      }\n    }]);\n\n    return Joysticc;\n  }(React.Component);\n\n  socket.on(\"receivemessage\", function (messages) {\n    //console.log(\"peyechi ekta message\");\n    document.dispatchEvent(new CustomEvent(\"gandu\", {\n      detail: {\n        barta: messages\n      }\n    }));\n  });\n  socket.on(\"changedPlayerPositions\", function (newPositions) {\n    //console.log(newPositions);\n    document.dispatchEvent(new CustomEvent(\"updatePos\", {\n      detail: {\n        positions: newPositions\n      }\n    }));\n  });\n  /*\n   console.log(userPlayer.name);\n  socket.emit(\"addplayer\",userPlayer);\n  \n    return (\n  <div>\n    <GameBox players={[]}/>\n    <Chat name={userPlayer.name}/>\n  </div>\n  \n  );\n  */\n\n  var userPlayer = {\n    name: \"foo\",\n    x: 0,\n    y: 0\n  };\n\n  var PlayerSelection = /*#__PURE__*/function (_React$Component7) {\n    _inherits(PlayerSelection, _React$Component7);\n\n    function PlayerSelection(props) {\n      var _this10;\n\n      _classCallCheck(this, PlayerSelection);\n\n      _this10 = _possibleConstructorReturn(this, _getPrototypeOf(PlayerSelection).call(this, props));\n      _this10.state = {\n        name: \"TERE_NAAM\",\n        availability: false,\n        type: 0\n      };\n      _this10.handleChange = _this10.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this10)));\n      _this10.checkVal = _this10.checkVal.bind(_assertThisInitialized(_assertThisInitialized(_this10)));\n      _this10.playerFixed = _this10.playerFixed.bind(_assertThisInitialized(_assertThisInitialized(_this10)));\n      _this10.setAvatar = _this10.setAvatar.bind(_assertThisInitialized(_assertThisInitialized(_this10)));\n      return _this10;\n    }\n\n    _createClass(PlayerSelection, [{\n      key: \"handleChange\",\n      value: function handleChange(e) {\n        this.setState({\n          name: e.target.value == '' ? 'TERE_NAAM' : e.target.value\n        });\n        socket.emit(\"checkplayer\", e.target.value);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this11 = this;\n\n        socket.on(\"playerReadyToAdd\", function (x) {\n          if (x < 0) _this11.setState({\n            availability: true\n          });else _this11.setState({\n            availability: false\n          });\n        });\n      }\n    }, {\n      key: \"checkVal\",\n      value: function checkVal(e) {\n        var x = e.keyCode;\n        if ((x < 65 || x > 90) && (x < 97 || x > 122) && x != 8 && (x < 37 || x > 40) && x != 46) e.preventDefault();\n      }\n    }, {\n      key: \"playerFixed\",\n      value: function playerFixed() {\n        if (this.state.availability) {\n          userPlayer = {\n            name: this.state.name,\n            x: 36,\n            y: 6,\n            fLeft: 1,\n            avatar: this.state.type\n          };\n          socket.emit(\"addplayer\", userPlayer);\n          ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(GameBox, {\n            players: [],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 936,\n              columnNumber: 1\n            }\n          }), /*#__PURE__*/React.createElement(Chat, {\n            name: userPlayer.name,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 13\n            }\n          })), document.getElementById('root'));\n        }\n      }\n    }, {\n      key: \"setAvatar\",\n      value: function setAvatar() {\n        this.setState({\n          type: (this.state.type + 1) % 6\n        }); //console.log(this.state.type);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          id: \"choosePlayer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          id: \"cha\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Character, {\n          x: 0,\n          avatar: this.state.type,\n          fLeft: 1,\n          name: this.state.name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 956,\n            columnNumber: 11\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          id: \"details\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 959,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          id: \"namoagain\",\n          className: this.state.availability ? '' : 'fuckd',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 13\n          }\n        }, \"enter your name:\", /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          maxlength: \"10\",\n          onChange: this.handleChange,\n          onKeyDown: this.checkVal,\n          placeholder: \"tere naam...\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 963,\n            columnNumber: 15\n          }\n        })), /*#__PURE__*/React.createElement(\"hr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          class: \"eightbit-btn eightbit-btn--proceed\",\n          onClick: this.setAvatar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 968,\n            columnNumber: 13\n          }\n        }, '<< CHANGE AVATAR >>'), /*#__PURE__*/React.createElement(\"hr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          class: \"eightbit-btn\",\n          onClick: this.playerFixed,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 13\n          }\n        }, \"JOIN\"))));\n      }\n    }]);\n\n    return PlayerSelection;\n  }(React.Component);\n\n  return /*#__PURE__*/React.createElement(PlayerSelection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 979,\n      columnNumber: 10\n    }\n  });\n}\n\nexport default App;","map":{"version":3,"sources":["/home/sagnikg/react/JazzApp/src/App.js"],"names":["React","ReactDOM","socketIOClient","ENDPOINT","socket","on","userUnikID","id","console","log","JoyStick","container","parameters","title","width","height","internalFillColor","internalLineWidth","internalStrokeColor","externalLineWidth","externalStrokeColor","autoReturnToCenter","objContainer","document","getElementById","canvas","createElement","clientWidth","clientHeight","appendChild","context","getContext","pressed","circumference","Math","PI","internalRadius","maxMoveStick","externalRadius","centerX","centerY","directionHorizontalLimitPos","directionHorizontalLimitNeg","directionVerticalLimitPos","directionVerticalLimitNeg","movedX","movedY","documentElement","addEventListener","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","drawExternal","drawInternal","beginPath","arc","lineWidth","strokeStyle","stroke","grd","createRadialGradient","addColorStop","fillStyle","fill","event","preventDefault","targetTouches","target","pageX","pageY","offsetParent","tagName","toUpperCase","offsetLeft","offsetTop","clearRect","GetWidth","GetHeight","GetPosX","GetPosY","GetX","toFixed","GetY","GetDir","result","orizontal","vertical","App","tile","Grid","props","haha","i","j","gstyle","left","top","push","Component","Messages","state","messages","setState","detail","barta","msgz","map","msg","Chat","handleChange","bind","keyPress","name","currentmsg","e","keyCode","emit","value","Character","x","y","fLeft","avatar","charStyle","zIndex","transform","prevProps","clasist","GameBox","players","worldX","worldY","worldStyle","moveCam","positions","eyex","eyey","playersChanged","length","userPlayer","ox","oy","nx","ny","checkValidPosition","window","innerWidth","innerHeight","karz","player","joy","Joysticc","joymosti","backtobessa","newx","newy","dispatchEvent","CustomEvent","newPositions","PlayerSelection","availability","type","checkVal","playerFixed","setAvatar","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo, { ReactComponent } from './logo.svg';\nimport './App.css';\nimport './welcome_screen.css';\nimport ReactDOM from 'react-dom';\nimport './joy.js';\nimport socketIOClient from \"socket.io-client\";\nconst ENDPOINT = \"http://127.0.0.1:4001\";\nconst socket = socketIOClient(ENDPOINT);\n\n\n\nsocket.on('connect', () => {\n  const userUnikID = \"user_\" + socket.id;\n  console.log(userUnikID); // true\n});\n\nvar JoyStick = (function(container, parameters)\n    {\n      parameters = parameters || {};\n      var title = (typeof parameters.title === \"undefined\" ? \"joystick\" : parameters.title),\n        width = (typeof parameters.width === \"undefined\" ? 0 : parameters.width),\n        height = (typeof parameters.height === \"undefined\" ? 0 : parameters.height),\n        internalFillColor = (typeof parameters.internalFillColor === \"undefined\" ? \"#00AA00\" : parameters.internalFillColor),\n        internalLineWidth = (typeof parameters.internalLineWidth === \"undefined\" ? 2 : parameters.internalLineWidth),\n        internalStrokeColor = (typeof parameters.internalStrokeColor === \"undefined\" ? \"#003300\" : parameters.internalStrokeColor),\n        externalLineWidth = (typeof parameters.externalLineWidth === \"undefined\" ? 2 : parameters.externalLineWidth),\n        externalStrokeColor = (typeof parameters.externalStrokeColor ===  \"undefined\" ? \"#008000\" : parameters.externalStrokeColor),\n        autoReturnToCenter = (typeof parameters.autoReturnToCenter === \"undefined\" ? true : parameters.autoReturnToCenter);\n      \n      // Create Canvas element and add it in the Container object\n      var objContainer = document.getElementById(container);\n      var canvas = document.createElement(\"canvas\");\n      canvas.id = title;\n      if(width === 0) { width = objContainer.clientWidth; }\n      if(height === 0) { height = objContainer.clientHeight; }\n      canvas.width = width;\n      canvas.height = height;\n      objContainer.appendChild(canvas);\n      var context=canvas.getContext(\"2d\");\n      \n      var pressed = 0; // Bool - 1=Yes - 0=No\n        var circumference = 2 * Math.PI;\n        var internalRadius = (canvas.width-((canvas.width/2)+10))/2;\n      var maxMoveStick = internalRadius + 5;\n      var externalRadius = internalRadius + 30;\n      var centerX = canvas.width / 2;\n      var centerY = canvas.height / 2;\n      var directionHorizontalLimitPos = canvas.width / 10;\n      var directionHorizontalLimitNeg = directionHorizontalLimitPos * -1;\n      var directionVerticalLimitPos = canvas.height / 10;\n      var directionVerticalLimitNeg = directionVerticalLimitPos * -1;\n      // Used to save current position of stick\n      var movedX=centerX;\n      var movedY=centerY;\n        \n      // Check if the device support the touch or not\n      if(\"ontouchstart\" in document.documentElement)\n      {\n        canvas.addEventListener(\"touchstart\", onTouchStart, false);\n        canvas.addEventListener(\"touchmove\", onTouchMove, false);\n        canvas.addEventListener(\"touchend\", onTouchEnd, false);\n      }\n      else\n      {\n        canvas.addEventListener(\"mousedown\", onMouseDown, false);\n        canvas.addEventListener(\"mousemove\", onMouseMove, false);\n        canvas.addEventListener(\"mouseup\", onMouseUp, false);\n      }\n      // Draw the object\n      drawExternal();\n      drawInternal();\n    \n      /******************************************************\n       * Private methods\n       *****************************************************/\n    \n      /**\n       * @desc Draw the external circle used as reference position\n       */\n      function drawExternal()\n      {\n        context.beginPath();\n        context.arc(centerX, centerY, externalRadius, 0, circumference, false);\n        context.lineWidth = externalLineWidth;\n        context.strokeStyle = externalStrokeColor;\n        context.stroke();\n      }\n    \n      /**\n       * @desc Draw the internal stick in the current position the user have moved it\n       */\n      function drawInternal()\n      {\n        context.beginPath();\n        if(movedX<internalRadius) { movedX=maxMoveStick; }\n        if((movedX+internalRadius) > canvas.width) { movedX = canvas.width-(maxMoveStick); }\n        if(movedY<internalRadius) { movedY=maxMoveStick; }\n        if((movedY+internalRadius) > canvas.height) { movedY = canvas.height-(maxMoveStick); }\n        context.arc(movedX, movedY, internalRadius, 0, circumference, false);\n        // create radial gradient\n        var grd = context.createRadialGradient(centerX, centerY, 5, centerX, centerY, 200);\n        // Light color\n        grd.addColorStop(0, internalFillColor);\n        // Dark color\n        grd.addColorStop(1, internalStrokeColor);\n        context.fillStyle = grd;\n        context.fill();\n        context.lineWidth = internalLineWidth;\n        context.strokeStyle = internalStrokeColor;\n        context.stroke();\n      }\n      \n      /**\n       * @desc Events for manage touch\n       */\n      function onTouchStart(event) \n      {\n        pressed = 1;\n      }\n    \n      function onTouchMove(event)\n      {\n        // Prevent the browser from doing its default thing (scroll, zoom)\n        event.preventDefault();\n        if(pressed === 1 && event.targetTouches[0].target === canvas)\n        {\n          movedX = event.targetTouches[0].pageX;\n          movedY = event.targetTouches[0].pageY;\n          // Manage offset\n          if(canvas.offsetParent.tagName.toUpperCase() === \"BODY\")\n          {\n            movedX -= canvas.offsetLeft;\n            movedY -= canvas.offsetTop;\n          }\n          else\n          {\n            movedX -= canvas.offsetParent.offsetLeft;\n            movedY -= canvas.offsetParent.offsetTop;\n          }\n          // Delete canvas\n          context.clearRect(0, 0, canvas.width, canvas.height);\n          // Redraw object\n          drawExternal();\n          drawInternal();\n        }\n      } \n    \n      function onTouchEnd(event) \n      {\n        pressed = 0;\n        // If required reset position store variable\n        if(autoReturnToCenter)\n        {\n          movedX = centerX;\n          movedY = centerY;\n        }\n        // Delete canvas\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        // Redraw object\n        drawExternal();\n        drawInternal();\n        //canvas.unbind('touchmove');\n      }\n    \n      /**\n       * @desc Events for manage mouse\n       */\n      function onMouseDown(event) \n      {\n        pressed = 1;\n      }\n    \n      function onMouseMove(event) \n      {\n        if(pressed === 1)\n        {\n          movedX = event.pageX;\n          movedY = event.pageY;\n          // Manage offset\n          if(canvas.offsetParent.tagName.toUpperCase() === \"BODY\")\n          {\n            movedX -= canvas.offsetLeft;\n            movedY -= canvas.offsetTop;\n          }\n          else\n          {\n            movedX -= canvas.offsetParent.offsetLeft;\n            movedY -= canvas.offsetParent.offsetTop;\n          }\n          // Delete canvas\n          context.clearRect(0, 0, canvas.width, canvas.height);\n          // Redraw object\n          drawExternal();\n          drawInternal();\n        }\n      }\n    \n      function onMouseUp(event) \n      {\n        pressed = 0;\n        // If required reset position store variable\n        if(autoReturnToCenter)\n        {\n          movedX = centerX;\n          movedY = centerY;\n        }\n        // Delete canvas\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        // Redraw object\n        drawExternal();\n        drawInternal();\n        //canvas.unbind('mousemove');\n      }\n    \n      /******************************************************\n       * Public methods\n       *****************************************************/\n      \n      /**\n       * @desc The width of canvas\n       * @return Number of pixel width \n       */\n      this.GetWidth = function () \n      {\n        return canvas.width;\n      };\n      \n      /**\n       * @desc The height of canvas\n       * @return Number of pixel height\n       */\n      this.GetHeight = function () \n      {\n        return canvas.height;\n      };\n      \n      /**\n       * @desc The X position of the cursor relative to the canvas that contains it and to its dimensions\n       * @return Number that indicate relative position\n       */\n      this.GetPosX = function ()\n      {\n        return movedX;\n      };\n      \n      /**\n       * @desc The Y position of the cursor relative to the canvas that contains it and to its dimensions\n       * @return Number that indicate relative position\n       */\n      this.GetPosY = function ()\n      {\n        return movedY;\n      };\n      \n      /**\n       * @desc Normalizzed value of X move of stick\n       * @return Integer from -100 to +100\n       */\n      this.GetX = function ()\n      {\n        return (100*((movedX - centerX)/maxMoveStick)).toFixed();\n      };\n    \n      /**\n       * @desc Normalizzed value of Y move of stick\n       * @return Integer from -100 to +100\n       */\n      this.GetY = function ()\n      {\n        return ((100*((movedY - centerY)/maxMoveStick))*-1).toFixed();\n      };\n      \n      /**\n       * @desc Get the direction of the cursor as a string that indicates the cardinal points where this is oriented\n       * @return String of cardinal point N, NE, E, SE, S, SW, W, NW and C when it is placed in the center\n       */\n      this.GetDir = function()\n      {\n        var result = \"\";\n        var orizontal = movedX - centerX;\n        var vertical = movedY - centerY;\n        \n        if(vertical >= directionVerticalLimitNeg && vertical <= directionVerticalLimitPos)\n        {\n          result = \"C\";\n        }\n        if(vertical < directionVerticalLimitNeg)\n        {\n          result = \"N\";\n        }\n        if(vertical > directionVerticalLimitPos)\n        {\n          result = \"S\";\n        }\n        \n        if(orizontal < directionHorizontalLimitNeg)\n        {\n          if(result === \"C\")\n          { \n            result = \"W\";\n          }\n          else\n          {\n            result += \"W\";\n          }\n        }\n        if(orizontal > directionHorizontalLimitPos)\n        {\n          if(result === \"C\")\n          { \n            result = \"E\";\n          }\n          else\n          {\n            result += \"E\";\n          }\n        }\n        \n        return result;\n      };\n    });\n\n/*\nif (x==18 && y>=7 && y<==25)\nreturn false;\nif (y==25 && x<=17)\nreturn false;\nif (y==26 && (x==15 || x==16))\nreturn false;\nif (y==27 && (x==15 || x==16))\nreturn false;\nif ((x==1 || x==2) && y>=31 && y<=33)\nreturn false;\nif ((x==14 || x==15) && y>=31 && y<=33)\nreturn false;\nif ((y==38 || y== 43) && x>=2 && x<==13)\nreturn false;\nif ((x==2 || x==39) && y>=39 && y<==42)\nreturn false;\nif (y==46 && x<=14)\nreturn false;\nif (y==47 && x<=15)\nreturn false;\nif ((x==20 || x==25)&& y>=40 && y<=44)\nreturn false;\nif ((y==45 || y==40) && x>=20 && x<=24)\nreturn false;\nif ((y==59 || y==64) && x>=27 && x<=39)\nreturn false;\nif (y==7 && ((x>=18 && x<=24) || (x>47 && x<=96)))\nreturn false;\nif ((x==24 || x==46) && (y==8 || y==9))\nreturn false;\nif (y==9 && x>=25 && x<=26)\nreturn false;\nif (y==96 && x>=7 && x<=14)\nreturn false;\nif (y==49 && x>=39 && x<=59)   \nreturn false;\nif (x==59 && y>=39 && y<=48)\nreturn false;\nif ((x==39 || x==40) && y>=48 && y<=37)\nreturn false;\nif ((y==37 || y==34) && x>=41 && x<=49)\nreturn false;\nif (x>=50 && x<=56 && y>=34 && y<=37)\nreturn false;\nif ( (x==39 || x==40) && y>=15 && y<=34)\nreturn false;\nif (y==15 && x>=41 && x<=69)\nreturn false;\nif (x==67||x==68) && y>=22 && y<=28)\nreturn false;\nif (((x==60 || x==61) && y>=33 && y<=36) || (x==59 && (y==34 || y==35)))\nreturn false;\nif (y==49 && x>=64 && x<=93)\nreturn false;\nif (x>=64 && x<=69 && y>=39 && y<=48)\nreturn false;\nif ( x>=69 && x<=93 && y>=33 && y<=49)\nreturn false;\nif ( x>=69 && x<=93 && y>=15 && y<=30)\nreturn false;\nif (y==28 && x>=94 && x<=96)\nreturn false;\nif (y==27 && x>=97 && x<=110)\nreturn false;\nif (y==26 && x>=110 && x<=111)\nreturn false;\nif (y==25 && x>=112 && x<=119)\nreturn false;\nif (x==120 && y>=25 && y<=27)\nreturn false;\nif (y==27 && x>=121 && x<=133)\n*/\n\nfunction App() {\n  var tile = 40; \n\n\n  class Grid extends React.Component{\n    constructor(props){\n      super(props);\n    }\n\n    render()\n    {\n      var haha=[];\n      for(var i=0;i<=135;i++)\n        for(var j=0;j<=65;j++)\n        { var gstyle = {\n          left: i*40 + \"px\",\n          top: j*40 + \"px\",\n          };\n          haha.push(<div class=\"grid\" style={gstyle}>{i+\",\"+j}</div>);\n        }\n      return <div>{haha}</div>;\n    }\n  }\n  class Messages extends React.Component{\n    constructor(props){\n      super(props);\n      this.state = {\n        messages : this.props.messages\n      }\n    }\n\n    componentDidMount(){\n      document.addEventListener('gandu',  (event) => {\n        this.setState({\n          messages : event.detail.barta\n        });\n      });\n    }\n\n    render(){\n      var msgz = this.state.messages.map( (msg) => <li>{msg}</li>);\n      return (\n          <ul id=\"messages\">\n            {msgz}\n          </ul>\n      );\n    }\n  }\n\n  class Chat extends React.Component {\n    constructor(props){\n      super(props);\n      this.handleChange = this.handleChange.bind(this);\n      this.keyPress = this.keyPress.bind(this);\n      this.state = {\n        name : this.props.name,\n        messages : [],\n        currentmsg : ''\n      }\n      //console.log(\"name is: \"+this.props.name);\n    }\n\n    keyPress(e){\n      if(e.keyCode == 13)\n       {\n        socket.emit('sendmessage',this.state.name,this.state.currentmsg);\n        e.target.value = '';\n       }\n    }\n\n    handleChange(e) {\n      this.state.currentmsg = e.target.value;\n    }\n\n    render(){\n      return (\n        <div id=\"chat\">\n            <Messages messages={this.state.messages}/>\n          <div id=\"typehold\">\n            <input type=\"text\" onChange={this.handleChange} onKeyDown={this.keyPress} placeholder=\"enter a message...\"></input>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  class Character extends React.Component {\n    constructor(props){\n      super(props);\n      this.state = {\n        name: this.props.name,\n        x : this.props.x,\n        y : this.props.y,\n        id : this.props.id,\n        fLeft : this.props.fLeft,\n        avatar : this.props.avatar\n      };\n      this.state.charStyle = {\n        left: this.props.x*tile + 'px',\n        top: this.props.y*tile + 'px',\n        zIndex: this.props.y,\n        transform : 'scaleX('+ this.props.fLeft +')'\n      }\n    }\n\n    componentDidUpdate(prevProps) {\n     // if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n       \n      if (this.props !== prevProps) {\n        this.setState({ \n          name: this.props.name,\n          x : this.props.x,\n          y : this.props.y,\n          fLeft : this.props.fLeft,\n          avatar : this.props.avatar,\n          charStyle : {\n            left: this.props.x*tile + 'px',\n            top: this.props.y*tile + 'px',\n            zIndex: this.props.y\n          }\n        });\n      }\n    }\n    \n    render(){\n      var clasist = \"character\";\n      if(this.state.fLeft == -1)\n        clasist += \" fleft\";\n      \n      switch(this.state.avatar)\n      {\n        case 0: clasist += \" doomer\"; break;\n        case 1: clasist += \" bhakt\"; break;\n        case 2: clasist += \" moist\"; break;\n        case 3: clasist += \" ladis\"; break;\n        case 4: clasist += \" nerd\"; break;\n        case 5: clasist += \" lib\"; break; \n      }\n      \n\n      return(\n          <div className={clasist} style={this.state.charStyle} >\n            <p><b>{this.state.name}</b></p>\n          </div>\n      );\n    }\n  }\n  \n  class GameBox extends React.Component {\n    constructor(props){\n      super(props);\n      this.keyPress = this.keyPress.bind(this);\n      this.state = {\n        players : this.props.players,\n        worldX : -1320,\n        worldY : -40,\n        worldStyle : {\n          top : '-40px',\n          left : '-1320px'\n        }\n      };\n      this.moveCam = this.moveCam.bind(this);\n    }\n\n    componentDidMount(){\n      document.addEventListener('updatePos',  (event) => {\n        this.setState({\n          players : event.detail.positions\n        });\n      });\n\n      document.addEventListener('thirdeye',  (event) => {\n        var eyex = event.detail.x + this.state.worldX;\n        var eyey = event.detail.y + this.state.worldY;\n\n        if(eyex >= 0 )\n          eyex = this.state.worldStyle.left;\n        else\n          eyex = eyex;\n        \n        if(eyey >= 0 )\n          eyey = this.state.worldStyle.top;\n        else\n          eyey = eyey;\n          \n        this.setState({\n          worldStyle : {\n            left : eyex,\n            top : eyey\n          }\n        });\n      });\n\n    }\n\n    keyPress(e){\n      var playersChanged = this.state.players;\n      var i;\n      for(i=0;i<playersChanged.length;i++)\n      {\n        if(playersChanged[i].name == userPlayer.name)\n        { break;}\n      }\n\n      var ox = playersChanged[i].x;\n      var oy = playersChanged[i].y;\n\n      if(e.keyCode == 39)\n      { \n        if(playersChanged[i].fLeft == 1)\n          { playersChanged[i].x = playersChanged[i].x+1;}\n        playersChanged[i].fLeft = 1;\n      }\n\n      if(e.keyCode == 37)\n      {\n        if(playersChanged[i].fLeft == -1)\n          { playersChanged[i].x = playersChanged[i].x-1;}\n        playersChanged[i].fLeft = -1;\n      }\n\n      if(e.keyCode == 38)\n      playersChanged[i].y =playersChanged[i].y-1;\n\n      if(e.keyCode == 40)\n      playersChanged[i].y =playersChanged[i].y+1;\n\n      var nx = playersChanged[i].x;\n      var ny = playersChanged[i].y;\n      if(!this.checkValidPosition(nx,ny))\n      {\n        playersChanged[i].x = ox;\n        playersChanged[i].y = oy;\n      }\n      else \n      {\n        this.moveCam(nx,ny);\n        socket.emit(\"changePlayerPositions\",playersChanged);\n      }\n    }\n\n    checkValidPosition(x,y)\n    {\n      if(x < 0 || y < 0 || x > 131 || y > 58)\n        return false;\n      if (x==18 && y>=7 && y<=25)\n        return false;\n      if (y==25 && x<=17)\n        return false;\n      if (y==26 && (x==15 || x==16))\n        return false;\n      if (y==27 && (x==15 || x==16))\n        return false;\n      if ((x==1 || x==2) && y>=31 && y<=33)\n        return false;\n      if ((x==14 || x==15) && y>=31 && y<=33)\n        return false;\n      if ((y==38 || y== 43) && x>=2 && x<=13)\n        return false;\n      if ((x==2 || x==39) && y>=39 && y<=42)\n        return false;\n      if (y==46 && x<=14)\n        return false;\n      if (y==47 && x<=15)\n        return false;\n      if ((x==20 || x==25)&& y>=40 && y<=44)\n        return false;\n      if ((y==45 || y==40) && x>=20 && x<=24)\n        return false;\n      if ((y==59 || y==64) && x>=27 && x<=39)\n        return false;\n      if (y==7 && ((x>=18 && x<=24) || (x>47 && x<=96)))\n        return false;\n      if ((x==24 || x==46) && (y==8 || y==9))\n        return false;\n      if (y==9 && x>=25 && x<=26)\n        return false;\n      if (y==96 && x>=7 && x<=14)\n        return false;\n      if (y==49 && x>=39 && x<=59)   \n        return false;\n      if (x==59 && y>=39 && y<=48)\n        return false;\n      if ((x==39 || x==40) && y>=48 && y<=37)\n        return false;\n      if ((y==37 || y==34) && x>=41 && x<=49)\n        return false;\n      if (x>=50 && x<=56 && y>=34 && y<=37)\n        return false;\n      if ( (x==39 || x==40) && y>=15 && y<=34)\n        return false;\n      if (y==15 && x>=41 && x<=69)\n        return false;\n      if ((x==67||x==68) && y>=22 && y<=28)\n        return false;\n      if (((x==60 || x==61) && y>=33 && y<=36) || (x==59 && (y==34 || y==35)))\n        return false;\n      if (y==49 && x>=64 && x<=93)\n        return false;\n      if (x>=64 && x<=69 && y>=39 && y<=48)\n        return false;\n      if ( x>=69 && x<=93 && y>=33 && y<=49)\n        return false;\n      if ( x>=69 && x<=93 && y>=15 && y<=30)\n        return false;\n      if (y==28 && x>=94 && x<=96)\n        return false;\n      if (y==27 && x>=97 && x<=110)\n        return false;\n      if (y==26 && x>=110 && x<=111)\n        return false;\n      if (y==25 && x>=112 && x<=119)\n        return false;\n      if (x==120 && y>=25 && y<=27)\n        return false;\n      if (y==27 && x>=121 && x<=133)\n\n      return true;\n    }\n\n    moveCam(x,y){\n      x = x * 40 + this.state.worldX;\n      y = y * 40 + this.state.worldY;\n      if((x+88) > (window.innerWidth-400))\n        this.state.worldX = this.state.worldX - 40;\n      \n      if((y + 240) > window.innerHeight)\n        this.state.worldY = this.state.worldY - 40;\n\n      if(x < 0)\n        this.state.worldX = this.state.worldX + 40;\n\n      if(y < 0)\n        this.state.worldY = this.state.worldY + 40;\n      \n      this.setState({\n        worldStyle : {\n          top : this.state.worldY +'px',\n          left : this.state.worldX +'px'\n        }\n      });\n      console.log(this.state.worldX + \" \" + this.state.worldY);\n    }\n\n    render(){\n      var karz = this.state.players.map( (player) => <Character id={player.id} avatar={player.avatar} name={player.name} x={player.x} y={player.y} fLeft={player.fLeft} />);\n      return(\n        <div id=\"gameBox\" onKeyUp={this.keyPress} tabIndex=\"0\">\n          <div id=\"gameWorld\" style={this.state.worldStyle}>\n            {/* <Grid /> */}\n          {karz}\n          </div>\n          <Joysticc/>\n        </div>\n      );\n    }\n  } \n  var joy;\n  class Joysticc extends React.Component {\n   constructor(props){\n     super(props);\n     this.joymosti = this.joymosti.bind(this);\n     this.state = {\n       x:0,\n       y:0\n     }\n     this.backtobessa = this.backtobessa.bind(this);\n   }\n   \n   componentDidMount(){\n    joy = new JoyStick('joyDiv',{\n\n      // The ID of canvas element\n      title: 'joystick',\n      \n      // width/height\n      width: 200,\n      height: 200,\n      \n      // Internal color of Stick\n      internalFillColor: '#ffffff',\n      \n      // Border width of Stick\n      internalLineWidth: 2,\n      \n      // Border color of Stick\n      internalStrokeColor: '#ffffff',\n      \n      // External reference circonference width\n      externalLineWidth: 2,\n      \n      //External reference circonference color\n      externalStrokeColor: '#ffffff',\n      \n      // Sets the behavior of the stick\n      autoReturnToCenter: true\n      \n      });\n   }\n\n   joymosti(){\n    var newx = joy.GetX()*4;\n    var newy = joy.GetY()*4;\n\n    // if( newx != this.state.x || newy != this.state.y )\n    // {\n      this.setState({\n        x: newx,\n        y: newy\n      });\n      document.dispatchEvent(new CustomEvent(\"thirdeye\", {\n           detail: \n           {\n           x : this.state.x*-1,\n           y : this.state.y\n           }\n      }));\n    // }\n    \n    // document.dispatchEvent(new CustomEvent(\"updatePos\", {\n    //   detail: { positions : newPositions }\n    // }));\n  }\n\n    backtobessa()\n    {\n        document.dispatchEvent(new CustomEvent(\"thirdeye\", {\n          detail: \n          {\n          x : 0,\n          y : 0\n          }\n        }));\n        \n        \n    }\n  \n   render()\n   {\n     return  (\n     <div id=\"joyraj\">\n       <div id=\"joyDiv\" onMouseMove={this.joymosti} onMouseUp={this.backtobessa} onMouseLeave={this.backtobessa}></div>\n     </div>\n     );\n   }\n  }\n\n  socket.on(\"receivemessage\", (messages) => {\n    //console.log(\"peyechi ekta message\");\n    document.dispatchEvent(new CustomEvent(\"gandu\", {\n      detail: { barta : messages }\n    }));\n  });\n\n  socket.on(\"changedPlayerPositions\", (newPositions) => {\n    //console.log(newPositions);\n    document.dispatchEvent(new CustomEvent(\"updatePos\", {\n      detail: { positions : newPositions }\n    }));\n  });\n  /*\n\n  console.log(userPlayer.name);\n  socket.emit(\"addplayer\",userPlayer);\n\n \n\n\n  return (\n  <div>\n    <GameBox players={[]}/>\n    <Chat name={userPlayer.name}/>\n  </div>\n  \n  );\n*/\n  var userPlayer = {\n    name : \"foo\",\n    x : 0,\n    y : 0\n  };\n\n  class PlayerSelection extends React.Component {\n    constructor(props){\n      super(props);\n      this.state = {\n        name : \"TERE_NAAM\",\n        availability : false,\n        type : 0\n      }\n      this.handleChange = this.handleChange.bind(this);\n      this.checkVal = this.checkVal.bind(this);\n      this.playerFixed = this.playerFixed.bind(this);\n      this.setAvatar = this.setAvatar.bind(this);\n    }\n\n    handleChange(e) {\n      this.setState({\n        name : ((e.target.value == '') ? 'TERE_NAAM' : e.target.value)\n      });\n      socket.emit(\"checkplayer\", e.target.value);\n    }\n\n    componentDidMount(){\n      socket.on(\"playerReadyToAdd\", (x) => {\n        if(x<0)\n          this.setState({\n            availability : true\n          });\n        else\n          this.setState({\n            availability : false\n          });\n      });\n    }\n\n    checkVal(e){\n      var x = e.keyCode;\n      if((x<65 || x>90) && (x<97 || x>122) && x!=8 && (x<37 || x>40) && x!=46)\n       e.preventDefault();\n    }\n\n    playerFixed(){\n      if(this.state.availability)\n        {\n          userPlayer = {\n            name : this.state.name,\n            x : 36,\n            y : 6,\n            fLeft : 1,\n            avatar : this.state.type\n          };\n          socket.emit(\"addplayer\",userPlayer);\n\n          \n          ReactDOM.render(\n          <div>\n\n<GameBox players={[]}/>\n            <Chat name={userPlayer.name}/>\n          </div>,\n            document.getElementById('root')\n          );\n        }\n    }\n\n    setAvatar(){\n      this.setState({\n        type : (this.state.type + 1)%6\n      });\n      //console.log(this.state.type);\n    }\n\n    render()\n    {\n      return (\n      <div id=\"choosePlayer\">\n        <div id=\"cha\">\n          <Character x={0} avatar={this.state.type} fLeft={1} name={this.state.name}/>\n        </div>\n        <div id='details'>\n          <div>\n          \n            <div id='namoagain' className={(this.state.availability ? '' : 'fuckd')}>\n              enter your name:\n              <input type=\"text\" maxlength=\"10\" onChange={this.handleChange} onKeyDown={this.checkVal} placeholder=\"tere naam...\"></input>\n            </div>\n\n            <hr />\n\n            <button class='eightbit-btn eightbit-btn--proceed' onClick={this.setAvatar} >{'<< CHANGE AVATAR >>'}</button>\n            \n            <hr />\n            \n            <button class='eightbit-btn' onClick={this.playerFixed}>JOIN</button>\n          </div>\n        </div>\n      </div>);\n    }\n  }\n\n  return <PlayerSelection />;\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}