{"ast":null,"code":"import _classCallCheck from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/sagnikg/react/JazzApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/sagnikg/react/JazzApp/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport { ReactComponent } from \"@svgr/webpack?-svgo,+ref!./logo.svg\";\nimport './App.css';\nimport ReactDOM from 'react-dom';\nimport socketIOClient from \"socket.io-client\";\nvar ENDPOINT = \"http://127.0.0.1:4001\";\nvar socket = socketIOClient(ENDPOINT);\nsocket.on('connect', function () {\n  var userUnikID = \"user_\" + socket.id;\n  console.log(userUnikID); // true\n});\n\nfunction App() {\n  var tile = 64;\n  /*  \n    class Messages extends React.Component{\n      constructor(props){\n        super(props);\n        this.state = {\n          messages : this.props.messages\n        }\n      }\n  \n      componentDidMount(){\n        document.addEventListener('gandu',  (event) => {\n          this.setState({\n            messages : event.detail.barta\n          });\n        });\n      }\n  \n      render(){\n        var msgz = this.state.messages.map( (msg) => <li>{msg}</li>);\n        return (\n            <ul id=\"messages\">\n              {msgz}\n            </ul>\n        );\n      }\n    }\n  \n    class Chat extends React.Component {\n      constructor(props){\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.keyPress = this.keyPress.bind(this);\n        this.state = {\n          name : this.props.name,\n          messages : [],\n          currentmsg : ''\n        }\n        console.log(\"name is: \"+this.props.name);\n      }\n  \n      keyPress(e){\n        if(e.keyCode == 13)\n         {\n          socket.emit('sendmessage',this.state.name,this.state.currentmsg);\n          e.target.value = '';\n         }\n      }\n  \n      handleChange(e) {\n        this.state.currentmsg = e.target.value;\n      }\n  \n      render(){\n        return (\n          <div id=\"chat\">\n              <Messages messages={this.state.messages}/>\n            <div id=\"typehold\">\n              <input type=\"text\" onChange={this.handleChange} onKeyDown={this.keyPress} placeholder=\"enter a message...\"></input>\n            </div>\n          </div>\n        );\n      }\n    }\n  \n    class Character extends React.Component {\n      constructor(props){\n        super(props);\n        this.state = {\n          name: this.props.name,\n          x : this.props.x,\n          y : this.props.y,\n          id : this.props.id\n          \n        };\n        this.state.charStyle = {\n          left: this.props.x*tile + 'px',\n          top: this.props.y*tile + 'px',\n          zIndex: this.props.y\n        }\n      }\n  \n      componentDidUpdate(prevProps) {\n        if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n          this.setState({ \n            name: this.props.name,\n            x : this.props.x,\n            y : this.props.y,\n            charStyle : {\n              left: this.props.x*tile + 'px',\n              top: this.props.y*tile + 'px',\n              zIndex: this.props.y\n            }\n          });\n        }\n      }\n      \n      render(){\n        \n        if(this.state.id == \"userChar\")\n          return(\n            <div className=\"character\" style={this.state.charStyle} id=\"user\">\n              <p>{this.state.name.toUpperCase()}</p>\n            </div>\n          );\n        return(\n            <div className=\"character\" style={this.state.charStyle} >\n              <p>{this.state.name.toUpperCase()}</p>\n            </div>\n        );\n      }\n    }\n    \n    class GameBox extends React.Component {\n      constructor(props){\n        super(props);\n        this.keyPress = this.keyPress.bind(this);\n        this.state = {\n          players : this.props.players\n        };\n      }\n  \n      componentDidMount(){\n        document.addEventListener('updatePos',  (event) => {\n          this.setState({\n            players : event.detail.positions\n          });\n          // console.log(event.detail.positions);\n        });\n      }\n  \n      keyPress(e){\n        var playersChanged = this.state.players;\n        for(var i=0;i<playersChanged.length;i++)\n        {\n          if(playersChanged[i].name == userPlayer.name)\n          {\n              if(e.keyCode == 39)\n                playersChanged[i].x =playersChanged[i].x+1;\n  \n              if(e.keyCode == 37)\n              playersChanged[i].x =playersChanged[i].x-1;\n  \n              if(e.keyCode == 38)\n              playersChanged[i].y =playersChanged[i].y-1;\n  \n              if(e.keyCode == 40)\n              playersChanged[i].y =playersChanged[i].y+1;\n          }\n        }     \n        socket.emit(\"changePlayerPositions\",playersChanged);\n      }\n  \n      render(){\n        var karz = this.state.players.map( (player) => <Character id={player.id} name={player.name} x={player.x} y={player.y} />);\n        return(\n          <div id=\"gameBox\" onKeyDown={this.keyPress} tabIndex=\"0\">\n            {karz}\n          </div>\n        );\n      }\n    } \n  \n  \n    socket.on(\"receivemessage\", (messages) => {\n      //console.log(\"peyechi ekta message\");\n      document.dispatchEvent(new CustomEvent(\"gandu\", {\n        detail: { barta : messages }\n      }));\n    });\n  \n    const userPlayer = {\n      name : prompt(\"Please enter your name\", \"Harry Potter\"),\n      x : 0,\n      y : 0\n    };\n  \n    console.log(userPlayer.name);\n    socket.emit(\"addplayer\",userPlayer);\n  \n    socket.on(\"changedPlayerPositions\", (newPositions) => {\n      console.log(newPositions);\n      document.dispatchEvent(new CustomEvent(\"updatePos\", {\n        detail: { positions : newPositions }\n      }));\n    });\n  \n  \n    return (\n    <div>\n      <GameBox players={[]}/>\n      <Chat name={userPlayer.name}/>\n    </div>\n    \n    );\n  */\n\n  var PlayerSelection = /*#__PURE__*/function (_React$Component) {\n    _inherits(PlayerSelection, _React$Component);\n\n    function PlayerSelection(props) {\n      _classCallCheck(this, PlayerSelection);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(PlayerSelection).call(this, props));\n    }\n\n    _createClass(PlayerSelection, [{\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 14\n          }\n        }, \"chooseyourplayer\");\n      }\n    }]);\n\n    return PlayerSelection;\n  }(React.Component);\n\n  return /*#__PURE__*/React.createElement(PlayerSelection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 10\n    }\n  });\n}\n\nexport default App;","map":{"version":3,"sources":["/home/sagnikg/react/JazzApp/src/App.js"],"names":["React","ReactDOM","socketIOClient","ENDPOINT","socket","on","userUnikID","id","console","log","App","tile","PlayerSelection","props","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,IAAMC,QAAQ,GAAG,uBAAjB;AACA,IAAMC,MAAM,GAAGF,cAAc,CAACC,QAAD,CAA7B;AAIAC,MAAM,CAACC,EAAP,CAAU,SAAV,EAAqB,YAAM;AACzB,MAAMC,UAAU,GAAG,UAAUF,MAAM,CAACG,EAApC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ,EAFyB,CAEA;AAC1B,CAHD;;AAOA,SAASI,GAAT,GAAe;AACb,MAAIC,IAAI,GAAG,EAAX;AAEF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHe,MAuMPC,eAvMO;AAAA;;AAwMX,6BAAYC,KAAZ,EAAkB;AAAA;;AAAA,0FACVA,KADU;AAEjB;;AA1MU;AAAA;AAAA,+BA6MX;AACE,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAP;AACD;AA/MU;;AAAA;AAAA,IAuMiBb,KAAK,CAACc,SAvMvB;;AAiNb,sBAAO,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD;;AAED,eAAeJ,GAAf","sourcesContent":["import React from 'react';\nimport logo, { ReactComponent } from './logo.svg';\nimport './App.css';\nimport ReactDOM from 'react-dom';\n\nimport socketIOClient from \"socket.io-client\";\nconst ENDPOINT = \"http://127.0.0.1:4001\";\nconst socket = socketIOClient(ENDPOINT);\n\n\n\nsocket.on('connect', () => {\n  const userUnikID = \"user_\" + socket.id;\n  console.log(userUnikID); // true\n});\n\n\n\nfunction App() {\n  var tile = 64; \n\n/*  \n  class Messages extends React.Component{\n    constructor(props){\n      super(props);\n      this.state = {\n        messages : this.props.messages\n      }\n    }\n\n    componentDidMount(){\n      document.addEventListener('gandu',  (event) => {\n        this.setState({\n          messages : event.detail.barta\n        });\n      });\n    }\n\n    render(){\n      var msgz = this.state.messages.map( (msg) => <li>{msg}</li>);\n      return (\n          <ul id=\"messages\">\n            {msgz}\n          </ul>\n      );\n    }\n  }\n\n  class Chat extends React.Component {\n    constructor(props){\n      super(props);\n      this.handleChange = this.handleChange.bind(this);\n      this.keyPress = this.keyPress.bind(this);\n      this.state = {\n        name : this.props.name,\n        messages : [],\n        currentmsg : ''\n      }\n      console.log(\"name is: \"+this.props.name);\n    }\n\n    keyPress(e){\n      if(e.keyCode == 13)\n       {\n        socket.emit('sendmessage',this.state.name,this.state.currentmsg);\n        e.target.value = '';\n       }\n    }\n\n    handleChange(e) {\n      this.state.currentmsg = e.target.value;\n    }\n\n    render(){\n      return (\n        <div id=\"chat\">\n            <Messages messages={this.state.messages}/>\n          <div id=\"typehold\">\n            <input type=\"text\" onChange={this.handleChange} onKeyDown={this.keyPress} placeholder=\"enter a message...\"></input>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  class Character extends React.Component {\n    constructor(props){\n      super(props);\n      this.state = {\n        name: this.props.name,\n        x : this.props.x,\n        y : this.props.y,\n        id : this.props.id\n        \n      };\n      this.state.charStyle = {\n        left: this.props.x*tile + 'px',\n        top: this.props.y*tile + 'px',\n        zIndex: this.props.y\n      }\n    }\n\n    componentDidUpdate(prevProps) {\n      if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n        this.setState({ \n          name: this.props.name,\n          x : this.props.x,\n          y : this.props.y,\n          charStyle : {\n            left: this.props.x*tile + 'px',\n            top: this.props.y*tile + 'px',\n            zIndex: this.props.y\n          }\n        });\n      }\n    }\n    \n    render(){\n      \n      if(this.state.id == \"userChar\")\n        return(\n          <div className=\"character\" style={this.state.charStyle} id=\"user\">\n            <p>{this.state.name.toUpperCase()}</p>\n          </div>\n        );\n      return(\n          <div className=\"character\" style={this.state.charStyle} >\n            <p>{this.state.name.toUpperCase()}</p>\n          </div>\n      );\n    }\n  }\n  \n  class GameBox extends React.Component {\n    constructor(props){\n      super(props);\n      this.keyPress = this.keyPress.bind(this);\n      this.state = {\n        players : this.props.players\n      };\n    }\n\n    componentDidMount(){\n      document.addEventListener('updatePos',  (event) => {\n        this.setState({\n          players : event.detail.positions\n        });\n        // console.log(event.detail.positions);\n      });\n    }\n\n    keyPress(e){\n      var playersChanged = this.state.players;\n      for(var i=0;i<playersChanged.length;i++)\n      {\n        if(playersChanged[i].name == userPlayer.name)\n        {\n            if(e.keyCode == 39)\n              playersChanged[i].x =playersChanged[i].x+1;\n\n            if(e.keyCode == 37)\n            playersChanged[i].x =playersChanged[i].x-1;\n\n            if(e.keyCode == 38)\n            playersChanged[i].y =playersChanged[i].y-1;\n\n            if(e.keyCode == 40)\n            playersChanged[i].y =playersChanged[i].y+1;\n        }\n      }     \n      socket.emit(\"changePlayerPositions\",playersChanged);\n    }\n\n    render(){\n      var karz = this.state.players.map( (player) => <Character id={player.id} name={player.name} x={player.x} y={player.y} />);\n      return(\n        <div id=\"gameBox\" onKeyDown={this.keyPress} tabIndex=\"0\">\n          {karz}\n        </div>\n      );\n    }\n  } \n\n\n  socket.on(\"receivemessage\", (messages) => {\n    //console.log(\"peyechi ekta message\");\n    document.dispatchEvent(new CustomEvent(\"gandu\", {\n      detail: { barta : messages }\n    }));\n  });\n\n  const userPlayer = {\n    name : prompt(\"Please enter your name\", \"Harry Potter\"),\n    x : 0,\n    y : 0\n  };\n\n  console.log(userPlayer.name);\n  socket.emit(\"addplayer\",userPlayer);\n\n  socket.on(\"changedPlayerPositions\", (newPositions) => {\n    console.log(newPositions);\n    document.dispatchEvent(new CustomEvent(\"updatePos\", {\n      detail: { positions : newPositions }\n    }));\n  });\n\n\n  return (\n  <div>\n    <GameBox players={[]}/>\n    <Chat name={userPlayer.name}/>\n  </div>\n  \n  );\n*/\n\n  class PlayerSelection extends React.Component {\n    constructor(props){\n      super(props);\n    }\n\n    render()\n    {\n      return <b>chooseyourplayer</b>;\n    }\n  }\n  return <PlayerSelection />;\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}